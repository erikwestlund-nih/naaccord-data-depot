<c-vars name label value options errors container_attrs class attrs />

{% with value=value|stringformat:"s" %}
    <div {{ container_attrs|default:"" }}>
        {% if label %}
            <c-label
                :name="name"
                :label="label"
                :errors="errors"
            />
        {% endif %}

        <fieldset aria-label="{{ name }}" class="mt-3">
            <div class="space-y-1">
                {% for option in options %}
                    {% with opt_val=option.value|stringformat:"s" %}
                        <div class="relative flex items-start">
                            <div class="flex h-6 items-center">
                                <input
                                    id="{{ name }}_{{ opt_val }}"
                                    name="{{ name }}"
                                    type="radio"
                                    value="{{ opt_val }}"
                                    {% if value == opt_val %} checked {% endif %}
                                    {{ attrs }}
                                    class="relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white not-checked:before:hidden checked:border-blue-700 checked:bg-blue-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-700 {{ class }}"
                                >
                            </div>
                            <div class="ml-3 text-sm leading-6">
                                <label
                                    for="{{ name }}_{{ opt_val }}"
                                    class="font-medium text-gray-800"
                                >
                                    {{ option.label }}
                                </label>
                            </div>
                        </div>
                    {% endwith %}
                {% endfor %}
            </div>
        </fieldset>

        <c-error :errors="errors" :name="name" class="mt-1.5" />
    </div>
{% endwith %}